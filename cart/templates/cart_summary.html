{% extends "base.html" %}
{% block content %}
  <!-- Header -->
  <div class="card text-bg-dark">
      <img  style="height: 510px;" src="https://t4.ftcdn.net/jpg/03/34/19/13/360_F_334191354_zW1Fj9HPbfJdBPEVe2d6mcuT1w2g8K5y.jpg" class="card-img" alt="...">
      <div class="card-img-overlay">
          <h1 style="text-align: center; font-size: 150px; font-family: Dancing Script;  font-weight: bold;" class="card-title mt-5">Cart</h1>
      </div>
  </div>
  <!-- Section -->
  <div class="contact-title mb-2" style="font-style: italic; font-size: 17px; ">
      <div class="contact-fix">
          <span><a href="{%url "home"%}" style="color: #bdbdbd; text-decoration: none;">Home</a></span>
          <span style="color: #616161;">/ Cart</span>
      </div>
  </div>
  <div class="comtainer">
      {% if cart_products %}
        <table class="table table-bordered table-striped">
            <thead class="bg-black text-white"  style="text-align: center;">
                <tr>
                    <th scope="col">Image</th>
                    <th scope="col">Name</th>
                    <th scope="col">Tags</th>
                    <th scope="col">Price</th>
                    <th scope="col">Quantity</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for product in cart_products %}
                  <tr> 
                      <td style="width: 20%"><img style="width: 25%" src="{{ product.image.url }}" alt=""></td>
                      <td>{{product}}</td>
                      <td>{{product.category}}</td>
                      {% if product.is_sale %}
                        <td><span class="text-muted text-decoration-line-through">${{ product.price }}</span>&nbsp;
                          ${{ product.sale_price }}</td>
                      {% else %}
                        <td>${{product.price}}</td>
                      {% endif %}
                      <td>      
                        {% for key, value in quantities.items %}
                          {% if key == product.id|slugify %}
                            {{ value }}
                          {% endif %}
                        {% endfor %}                            
                          {% comment %} <select class="form-select form-select-sm" id="qty-cart">
                              {% for key, value in quantities.items %}
                                {% if key == product.id|slugify %}
                                  {{ value }}
                                {% endif %}
                              {% endfor %}
                              <option value="1">1</option>
                              <option value="2">2</option>
                              <option value="3">3</option>
                              <option value="4">4</option>
                              <option value="5">5</option>
                          </select> {% endcomment %}
                      </td>
                      <td style="width: 15%">
                          <a class="btn btn-outline-dark text-white" style="background-color: #1b5e20;" href="#">Update</a>
                          &nbsp;
                          <a class="btn btn-outline-dark text-white" style="background-color: #d50000;" href="#">Delete</a>
                      </td>
                  </tr>
                {% endfor %}
                <tr>
                    <td>The number of products: {{cart|length}}</td>
                    <td></td>
                    <td></td>
                    <td>Total price: </td>
                </tr>
            </tbody>
        </table>
      {% else %}
        <h1>There's Nothing In Your Cart...</h1>
      {% endif %}
  </div>
{% endblock  %}